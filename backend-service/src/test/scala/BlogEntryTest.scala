import akka.pattern.StatusReply
import akka.persistence.testkit.scaladsl.UnpersistentBehavior
import backend.entity.BlogEntry
import backend.entity.BlogEntry.Summary
import backend.external.DataCollector
import org.scalatest.flatspec.AsyncFlatSpec
import org.scalatest.matchers.should.Matchers.convertToAnyShouldWrapper
import org.scalatest.wordspec.AnyWordSpecLike

import java.time.ZonedDateTime

class BlogEntryTest extends AnyWordSpecLike {

  def onEmptyBlogEntry: UnpersistentBehavior.EventSourced[BlogEntry.Command, BlogEntry.Event, BlogEntry.Summary] = UnpersistentBehavior.fromEventSourced(BlogEntry("1"))

  "BlogEntry" must {
    "be created" in {
      onEmptyBlogEntry { (testkit, eventProbe, snapshotProbe) =>
        val id = 1
        val now = ZonedDateTime.now
        val title = "Title"
        val entry =
          """
            |'\t\t<div data-elementor-type="wp-post" data-elementor-id="30607" class="elementor elementor-30607" data-elementor-post-type="post">\n\t\t\t\t\t\t<section class="elementor-section elementor-top-section elementor-element elementor-element-477eeac5 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="477eeac5" data-element_type="section">\n\t\t\t\t\t\t<div class="elementor-container elementor-column-gap-default">\n\t\t\t\t\t<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-5fcf95ad" data-id="5fcf95ad" data-element_type="column">\n\t\t\t<div class="elementor-widget-wrap elementor-element-populated">\n\t\t\t\t\t\t<div class="elementor-element elementor-element-55201ac1 elementor-widget elementor-widget-heading" data-id="55201ac1" data-element_type="widget" data-widget_type="heading.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t<h2 class="elementor-heading-title elementor-size-default">KI - Keine Angst vor der Technik</h2>\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-e174809 elementor-widget elementor-widget-text-editor" data-id="e174809" data-element_type="widget" data-widget_type="text-editor.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t<p>Du fragst Dich, ob Du diese „neuen Technologien“ überhaupt verstehst oder in Deinem Job anwenden kannst? Diese Zweifel sind normal, aber unbegründet! KI klingt oft wie eine komplizierte Technik, nur für IT-Expert:innen gedacht – doch in Wirklichkeit ist sie nicht nur etwas für Tech-Start-ups. Sowohl große Unternehmen als auch kleine und mittelständische Unternehmen (KMUs) profitieren von Künstlicher Intelligenz. Und das in jedem Bereich: Vom Marketing über den Vertrieb bis hin zur Logistik &#8211; <b>jede:r kann die Vorteile von KI nutzen</b>.</p><p><span style="font-size: 1rem;">Der Zugang ist einfacher, als Du denkst. Mit den richtigen Ressourcen und einer praxisorientierten Weiterbildung kannst auch Du die Chancen der KI voll ausschöpfen. Besonders spannend: In vielen Branchen eröffnen sich durch Künstliche Intelligenz komplett neue Geschäftsmöglichkeiten. Neugierig, welche Türen sie Dir öffnet?</span></p>\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-16730701 elementor-widget elementor-widget-heading" data-id="16730701" data-element_type="widget" data-widget_type="heading.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t<h2 class="elementor-heading-title elementor-size-default">Bring Deine Karriere mit KI-Kenntnissen nach vorn </h2>\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-a47e78b elementor-widget elementor-widget-text-editor" data-id="a47e78b" data-element_type="widget" data-widget_type="text-editor.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t<p>Künstliche Intelligenz revolutioniert nicht nur Unternehmen, sondern auch Berufsfelder und Karrierewege. Wer jetzt in KI-Kompetenzen investiert, sichert sich einen <b>klaren Vorteil auf dem Arbeitsmarkt</b>. Denn in den nächsten Jahren wird der Bedarf an Fachkräften mit KI-Know-how in vielen Branchen explodieren. Laut dem World Economic Forum aus dem &#8220;<a href="https://www.weforum.org/publications/the-future-of-jobs-report-2023/" target="_blank" rel="noopener">Future of Jobs Report 2023</a>&#8221; wird KI nicht nur bestehende Arbeitsfelder transformieren, sondern auch speziell in Wachstumssektoren wie Technologie, Datenanalyse und maschinenbasierten Dienstleistungen Millionen <b>neue, hochqualifizierte Arbeitsplätze</b> schaffen. Vor allem im Bereich der Digitalisierung, Automatisierung und Datenwissenschaft wird ein starker Anstieg an Nachfrage erwartet.</p><p>KI eröffnet Dir also Karrierechancen in den innovativsten Branchen, von der Automobilindustrie bis zur Gesundheitsbranche und dem E-Commerce – mit Möglichkeiten, nicht nur in Deiner aktuellen Rolle zu wachsen, sondern auch in neue Felder einzusteigen.</p>\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-739a264 elementor-widget elementor-widget-heading" data-id="739a264" data-element_type="widget" data-widget_type="heading.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t<h3 class="elementor-heading-title elementor-size-default">Wovon Du profitieren kannst</h3>\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-911fbed elementor-widget elementor-widget-text-editor" data-id="911fbed" data-element_type="widget" data-widget_type="text-editor.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t<ul><li aria-level="1"><b>Wertvolles Spezialwissen</b><span style="font-weight: 400;"><strong>:</strong> </span>Fundierte KI-Kompetenzen sind ein Alleinstellungsmerkmal und machen Dich zur gefragten Fachkraft in allen Bereichen.</li><li aria-level="1"><b>Sicherheit und bessere Chancen:</b> Mit KI-Kenntnissen bist Du perfekt für die Zukunft aufgestellt – besonders, da Unternehmen zunehmend Wert auf Digitalisierung und Prozessoptimierung legen.</li><li aria-level="1"><b>Karrierevorsprung und Zukunftsbranchen:</b> KI eröffnet Dir völlig neue Wege in den fortschrittlichsten Industrien, mit Perspektiven auf Weiterentwicklung und Wachstum.</li></ul>\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<section class="elementor-section elementor-inner-section elementor-element elementor-element-41bcd7d elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="41bcd7d" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">\n\t\t\t\t\t\t<div class="elementor-container elementor-column-gap-default">\n\t\t\t\t\t<div class="elementor-column elementor-col-50 elementor-inner-column elementor-element elementor-element-d274300" data-id="d274300" data-element_type="column">\n\t\t\t<div class="elementor-widget-wrap elementor-element-populated">\n\t\t\t\t\t\t<div class="elementor-element elementor-element-636384f elementor-widget elementor-widget-heading" data-id="636384f" data-element_type="widget" data-widget_type="heading.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t<h4 class="elementor-heading-title elementor-size-default">Deine Chance, KI zu meistern!</h4>\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-918d062 elementor-widget elementor-widget-text-editor" data-id="918d062" data-element_type="widget" data-widget_type="text-editor.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t<p>Schau Dir an, wie einfach und praxisnah Du Künstliche Intelligenz für Deinen Erfolg einsetzen kannst. Hol Dir im Trailer einen Vorgeschmack – und teste den digitalen Lehrgang kostenlos!</p>\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-a6fc350 elementor-align-left elementor-widget__width-initial elementor-widget elementor-widget-button" data-id="a6fc350" data-element_type="widget" data-widget_type="button.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t<div class="elementor-button-wrapper">\n\t\t\t\t\t<a class="elementor-button elementor-button-link elementor-size-sm" href="https://app.thekey.academy/register?email=" target="_blank">\n\t\t\t\t\t\t<span class="elementor-button-content-wrapper">\n\t\t\t\t\t\t\t\t\t<span class="elementor-button-text">Kostenlos testen</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-5e5f54c elementor-align-left elementor-widget__width-initial elementor-widget elementor-widget-button" data-id="5e5f54c" data-element_type="widget" data-widget_type="button.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t<div class="elementor-button-wrapper">\n\t\t\t\t\t<a class="elementor-button elementor-button-link elementor-size-sm" href="https://www.thekey.academy/onlinelehrgang-angewandte-ki-transformation-ihk/" target="_blank">\n\t\t\t\t\t\t<span class="elementor-button-content-wrapper">\n\t\t\t\t\t\t\t\t\t<span class="elementor-button-text">Zum Lehrgang</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t<div class="elementor-column elementor-col-50 elementor-inner-column elementor-element elementor-element-f30bbef" data-id="f30bbef" data-element_type="column">\n\t\t\t<div class="elementor-widget-wrap elementor-element-populated">\n\t\t\t\t\t\t<div class="elementor-element elementor-element-918ab11 elementor-widget elementor-widget-video" data-id="918ab11" data-element_type="widget" data-settings="{&quot;video_type&quot;:&quot;vimeo&quot;}" data-widget_type="video.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t<div class="elementor-wrapper elementor-open-inline">\n\t\t\t<iframe class="elementor-video-iframe" allowfullscreen allow="clipboard-write" title="vimeo Video Player" src="https://player.vimeo.com/video/1015358185?color&amp;autopause=0&amp;loop=0&amp;muted=0&amp;title=1&amp;portrait=1&amp;byline=0#t="></iframe>\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t\t</div>\n\t\t</section>\n\t\t\t\t<div class="elementor-element elementor-element-0207839 elementor-widget elementor-widget-heading" data-id="0207839" data-element_type="widget" data-widget_type="heading.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t<h2 class="elementor-heading-title elementor-size-default">Die wichtigsten Vorteile der KI für Dein Unternehmen</h2>\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-bef55e8 elementor-widget elementor-widget-heading" data-id="bef55e8" data-element_type="widget" data-widget_type="heading.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t<h3 class="elementor-heading-title elementor-size-default">1. Prozessoptimierung und Automatisierung: Mehr Zeit für das Wesentliche</h3>\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-a20b95e elementor-widget elementor-widget-text-editor" data-id="a20b95e" data-element_type="widget" data-widget_type="text-editor.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t<p>Stell Dir vor, alle Mitarbeitenden können ihre Zeit für kreative und strategische Aufgaben nutzen, während die KI einfache, aber zeitaufwendige Tätigkeiten wie Kundenanfragen übernimmt. Routineaufgaben kosten nicht nur Zeit, sondern auch wertvolle Ressourcen. Künstliche Intelligenz bietet dafür die Lösung, indem sie repetitive Abläufe automatisiert übernimmt – intelligent und unermüdlich. Das verbessert nicht nur die Effizienz, sondern steigert auch die Zufriedenheit Deines gesamten Teams.</p><p><b>Ein inspirierendes Beispiel ist UPS</b>: Das Unternehmen setzt auf KI-gestützte Routenoptimierung, um Lieferwege effizienter zu gestalten. Durch die intelligente Berechnung der idealen Strecken für jede Tour konnte UPS Millionen einsparen, den Treibstoffverbrauch deutlich reduzieren und die Arbeitszeiten der Fahrer:innen merklich verkürzen – ein enormer Gewinn an Effizienz, Nachhaltigkeit und Zufriedenheit. </p><p>Genau solche Modelle lassen sich auch auf Dein Unternehmen anwenden und skalieren – ohne hohen technischen Aufwand und mit messbaren Erfolgen.</p>\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-db67c58 elementor-widget elementor-widget-heading" data-id="db67c58" data-element_type="widget" data-widget_type="heading.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t<h3 class="elementor-heading-title elementor-size-default">2. Kostensenkung durch gezielten KI-Einsatz: Sparpotenzial in jedem Bereich</h3>\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-26b68fc elementor-widget elementor-widget-text-editor" data-id="26b68fc" data-element_type="widget" data-widget_type="text-editor.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t<p>KI optimiert nicht nur Prozesse, sondern spart direkt Kosten – und das auf beeindruckende Weise. Laut einer <a href="https://www.mckinsey.com/business-functions/mckinsey-digital/our-insights/artificial-intelligence-the-time-to-act-is-now" target="_blank" rel="noopener">McKinsey-Studie</a> können Unternehmen durch gezielten KI-Einsatz ihre operativen <b>Kosten um bis zu 20 % senken</b>. Die Ersparnisse kommen nicht nur durch automatisierte Abläufe zustande, sondern auch durch einen reduzierten Ressourcenverbrauch und eine präzisere Planung. Gerade in Bereichen wie der Produktion oder Logistik, in denen jeder Prozessschritt Kosten verursacht, hilft Dir KI dabei, den Materialeinsatz zu minimieren, Ausfallzeiten zu reduzieren und Arbeitskosten zu senken. Die Zahlen sprechen für sich: Unternehmen, die KI intelligent integrieren, erleben direkte Auswirkungen auf ihre Rentabilität – und das bei gleichzeitig höherer Effizienz und Planbarkeit. Klingt interessant, oder?</p>\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-acca52c elementor-widget elementor-widget-heading" data-id="acca52c" data-element_type="widget" data-widget_type="heading.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t<h3 class="elementor-heading-title elementor-size-default">3. Bessere Entscheidungen durch Datenanalyse: Wissen, was wirklich zählt</h3>\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-1bdae6e elementor-widget elementor-widget-text-editor" data-id="1bdae6e" data-element_type="widget" data-widget_type="text-editor.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t<p>Jeder kennt das Problem: Unmengen an Daten liegen vor, aber die Auswertung ist zeitaufwendig und oft ungenau. Hier setzt die KI an. KI-gestützte Systeme verarbeiten riesige Datenmengen in Sekundenschnelle und liefern Dir präzise, verlässliche Einblicke, die Deine Entscheidungen untermauern. <a href="https://aws.amazon.com/solutions/case-studies/amazon/" target="_blank" rel="noopener">Amazon</a> ist ein Paradebeispiel dafür: Das Unternehmen nutzt KI, um Verkaufsprognosen zu erstellen, die Lagerbestände zu optimieren und Lieferzeiten zu verkürzen – alles in Echtzeit und datenbasiert. Diese Technologie ist aber nicht nur für Großunternehmen wie Amazon relevant; Unternehmen jeder Größe profitieren enorm von der Datenkompetenz der KI, die Datenmuster sichtbar macht und so die strategische Planung auf eine völlig neue Ebene bringt. Demnach gibt es auch für Dein Unternehmen die richtige KI-Unterstützung, um effizienter und zielgerichteter zu arbeiten.</p>\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-28bb968 elementor-widget elementor-widget-heading" data-id="28bb968" data-element_type="widget" data-widget_type="heading.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t<h3 class="elementor-heading-title elementor-size-default">4. Personalisierte Kundenerlebnisse: Individuelle Angebote für zufriedene Kundschaft</h3>\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-d6da974 elementor-widget elementor-widget-text-editor" data-id="d6da974" data-element_type="widget" data-widget_type="text-editor.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t<p>In der heutigen Zeit erwarten Deine Kund:innen mehr als Standardlösungen – sie möchten individuell angesprochen und verstanden werden. Künstliche Intelligenz macht genau das möglich, indem sie Vorlieben, Verhaltensmuster und Bedürfnisse analysiert. Auf dieser Basis erstellt sie passgenaue Empfehlungen, die Deinen Kund:innen zeigen, dass ihre Wünsche im Mittelpunkt stehen.</p><p>Das Ergebnis? Zufriedene Kundschaft, die sich wertgeschätzt fühlt, und eine <b>stärkere Bindung</b> an Dein Unternehmen. Personalisierte Erlebnisse machen nicht nur den Unterschied, sondern schaffen eine <b>langfristige Beziehung</b>, die auf Vertrauen und Relevanz basiert. Mit KI kannst Du sicherstellen, dass jede Interaktion zählt – modern, effizient und auf die Bedürfnisse Deiner Kund:innen zugeschnitten.</p>\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-abb8175 elementor-widget elementor-widget-heading" data-id="abb8175" data-element_type="widget" data-widget_type="heading.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t<h2 class="elementor-heading-title elementor-size-default">Case Study: Siemens und die Zukunft der Fertigung</h2>\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-c4e6412 elementor-widget elementor-widget-text-editor" data-id="c4e6412" data-element_type="widget" data-widget_type="text-editor.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t<p>Die <a href="https://new.siemens.com/global/en/company/stories/industry/factory-automation.html" target="_blank" rel="noopener">„Smart Factory“ von Siemens</a> zeigt eindrucksvoll, wie Künstliche Intelligenz Produktionsprozesse auf ein neues Effizienzniveau hebt. In dieser hochmodernen Umgebung erkennt KI Fehler in Echtzeit, korrigiert automatisch und senkt die Ausfallrate nahezu auf null. Das bedeutet: Jede produzierte Einheit entspricht exakt den Qualitätsanforderungen, was zu einer Produktivität führt, die ohne KI nicht erreichbar wäre. Die Maschinen „lernen“ und passen sich an, optimieren Abläufe, bevor menschliches Eingreifen notwendig ist – und das rund um die Uhr, ohne Pausen oder Verzögerungen.</p><p>Doch die Vorteile gehen noch weiter: Diese nahtlose Integration von KI in die Fertigung hilft Siemens nicht nur, Kosten durch geringere Fehlerquoten zu sparen, sondern ermöglicht auch schnellere Anpassungen an Marktveränderungen und die Wünsche ihrer Kundschaft. </p><p>Der Einsatz von KI macht es also möglich, gleichzeitig höchste Präzision und Flexibilität zu erreichen.</p>\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-ab63a83 elementor-widget elementor-widget-image" data-id="ab63a83" data-element_type="widget" data-widget_type="image.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img loading="lazy" decoding="async" width="1920" height="1080" src="https://www.thekey.academy/wp-content/uploads/Grafiken-Blog-13.png" class="attachment-full size-full wp-image-30610" alt="blog KI Manager:in" srcset="https://www.thekey.academy/wp-content/uploads/Grafiken-Blog-13.png 1920w, https://www.thekey.academy/wp-content/uploads/Grafiken-Blog-13-300x169.png 300w, https://www.thekey.academy/wp-content/uploads/Grafiken-Blog-13-1024x576.png 1024w, https://www.thekey.academy/wp-content/uploads/Grafiken-Blog-13-768x432.png 768w, https://www.thekey.academy/wp-content/uploads/Grafiken-Blog-13-1536x864.png 1536w, https://www.thekey.academy/wp-content/uploads/Grafiken-Blog-13-24x14.png 24w, https://www.thekey.academy/wp-content/uploads/Grafiken-Blog-13-36x20.png 36w, https://www.thekey.academy/wp-content/uploads/Grafiken-Blog-13-48x27.png 48w" sizes="(max-width: 1920px) 100vw, 1920px" />\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-bee4585 elementor-widget elementor-widget-heading" data-id="bee4585" data-element_type="widget" data-widget_type="heading.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t<h2 class="elementor-heading-title elementor-size-default">Dein Sprungbrett in die Zukunft: Manager:in für angewandte KI-Transformation (IHK)</h2>\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-ff5e301 elementor-widget elementor-widget-text-editor" data-id="ff5e301" data-element_type="widget" data-widget_type="text-editor.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t<p>Der Wandel durch KI ist überall spürbar und bietet Dir jetzt die Chance, die Zukunft mitzugestalten. Unsere Weiterbildung macht Dich fit für diese Veränderungen – praxisorientiert, flexibel und sofort anwendbar.</p><p>Mit unserem Onlinelehrgang <b>Manager:in für angewandte KI-Transformation (IHK)</b> sicherst Du Dir praxisorientiertes Wissen und die Werkzeuge, um KI gewinnbringend einzusetzen – 100 % digital und flexibel, damit Du Deine Weiterbildung jederzeit in Deinen Alltag integrieren kannst. </p><p>🧠 <b>Praxisnahes Wissen</b>: Verstehe, wie Du KI gezielt und ohne technisches Vorwissen einsetzt.</p><p>📅 <b>Flexibilität</b>: Lerne in kleinen Einheiten, wann und wo es für Dich passt.</p><p>🎓 <b>Anerkennung</b>: Schließe mit Deinem offiziellen IHK-Zertifikat ab.</p><p>🔍 <b>Kostenlos testen</b>: Überzeuge Dich selbst und teste die ersten Lektionen kostenlos und unverbindlich.</p><p>Werde Teil der Bewegung, die die Geschäftswelt neu definiert und gestalte eine innovative, digitale Zukunft, in der Du mit smarter Technologie immer die Nase vorn hast!</p>\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<section class="elementor-section elementor-inner-section elementor-element elementor-element-c1a09c6 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="c1a09c6" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">\n\t\t\t\t\t\t<div class="elementor-container elementor-column-gap-default">\n\t\t\t\t\t<div class="elementor-column elementor-col-50 elementor-inner-column elementor-element elementor-element-984bb38" data-id="984bb38" data-element_type="column">\n\t\t\t<div class="elementor-widget-wrap elementor-element-populated">\n\t\t\t\t\t\t<div class="elementor-element elementor-element-917f9dc elementor-widget elementor-widget-heading" data-id="917f9dc" data-element_type="widget" data-widget_type="heading.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t<h4 class="elementor-heading-title elementor-size-default">Werde KI-Spezialist:in!</h4>\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-9e21839 elementor-widget elementor-widget-text-editor" data-id="9e21839" data-element_type="widget" data-widget_type="text-editor.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t<p>Starte jetzt und sichere Dir Deinen Platz in der Welt von morgen! Die Registrierung ist kostenfrei und auch die ersten Lektionen des Lehrgangs kannst Du kostenlos und völlig unverbindlich testen.</p>\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-36169e3 elementor-align-left elementor-widget__width-initial elementor-widget elementor-widget-button" data-id="36169e3" data-element_type="widget" data-widget_type="button.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t<div class="elementor-button-wrapper">\n\t\t\t\t\t<a class="elementor-button elementor-button-link elementor-size-sm" href="https://app.thekey.academy/register?email=" target="_blank">\n\t\t\t\t\t\t<span class="elementor-button-content-wrapper">\n\t\t\t\t\t\t\t\t\t<span class="elementor-button-text">Kostenlos testen</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-element elementor-element-77974ad elementor-align-left elementor-widget__width-initial elementor-widget elementor-widget-button" data-id="77974ad" data-element_type="widget" data-widget_type="button.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t<div class="elementor-button-wrapper">\n\t\t\t\t\t<a class="elementor-button elementor-button-link elementor-size-sm" href="https://www.thekey.academy/onlinelehrgang-angewandte-ki-transformation-ihk/" target="_blank">\n\t\t\t\t\t\t<span class="elementor-button-content-wrapper">\n\t\t\t\t\t\t\t\t\t<span class="elementor-button-text">Zum Lehrgang</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t<div class="elementor-column elementor-col-50 elementor-inner-column elementor-element elementor-element-73dadeb" data-id="73dadeb" data-element_type="column">\n\t\t\t<div class="elementor-widget-wrap elementor-element-populated">\n\t\t\t\t\t\t<div class="elementor-element elementor-element-4dc33b9 elementor-widget__width-initial elementor-widget elementor-widget-image" data-id="4dc33b9" data-element_type="widget" data-widget_type="image.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img loading="lazy" decoding="async" width="270" height="256" src="https://www.thekey.academy/wp-content/uploads/KI-Transformation_Avatar.png" class="attachment-large size-large wp-image-27988" alt="ki transformation avatar" srcset="https://www.thekey.academy/wp-content/uploads/KI-Transformation_Avatar.png 270w, https://www.thekey.academy/wp-content/uploads/KI-Transformation_Avatar-24x24.png 24w, https://www.thekey.academy/wp-content/uploads/KI-Transformation_Avatar-36x34.png 36w, https://www.thekey.academy/wp-content/uploads/KI-Transformation_Avatar-48x46.png 48w" sizes="(max-width: 270px) 100vw, 270px" />\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t\t</div>\n\t\t</section>\n\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t\t</div>\n\t\t</section>\n\t\t\t\t<section class="elementor-section elementor-top-section elementor-element elementor-element-4e0c9b6 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="4e0c9b6" data-element_type="section">\n\t\t\t\t\t\t<div class="elementor-container elementor-column-gap-default">\n\t\t\t\t\t<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-6d8b7e3" data-id="6d8b7e3" data-element_type="column">\n\t\t\t<div class="elementor-widget-wrap elementor-element-populated">\n\t\t\t\t\t\t<div class="elementor-element elementor-element-7fef64b elementor-author-box--layout-image-left elementor-author-box--align-left elementor-widget elementor-widget-author-box" data-id="7fef64b" data-element_type="widget" data-widget_type="author-box.default">\n\t\t\t\t<div class="elementor-widget-container">\n\t\t\t\t\t<div class="elementor-author-box">\n\t\t\t\n\t\t\t<div class="elementor-author-box__text">\n\t\t\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t<div class="elementor-author-box__name">\n\t\t\t\t\t\t\tMagdalena\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\t\t\t\t\t<div class="elementor-author-box__bio">\n\t\t\t\t\t\t<p>SEO Text Creative</p>\n\t\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t</div>\n\t\t\t\t\t</div>\n\t\t</section>\n\t\t\t\t</div>\n\t\t'
            |""".stripMargin.trim
        testkit
          .runAskWithStatus[BlogEntry.Summary](a => BlogEntry.Create(id, title, now, entry, a))
          .expectValue(Summary(id, title.trim, now, entry.trim))

        eventProbe.expectPersisted(BlogEntry.Created(id,title.trim,now,entry.trim,"1"))

        snapshotProbe.hasEffects shouldBe false
      }
    }
  }

  "BlogEntry mapping" must {
    "should deliver correct word map" in {
      onEmptyBlogEntry { (testkit, eventProbe, snapshotProbe) =>
        val id = 1
        val now = ZonedDateTime.now
        val title = "Title"
        val entry =
          """Guten Tag ich bin ein Test auch mit Fehlern und Deutscher Sprache. Täta und sowas. Und Und und und
            |""".stripMargin.trim
        val wordMap = Map[String,Int](
          "guten" -> 1,
          "tag" -> 1,
          "ich" -> 1,
          "bin" -> 1,
          "ein" -> 1,
          "test" -> 1,
          "auch" -> 1,
          "mit" -> 1,
          "fehlern" -> 1,
          "und" -> 6,
          "deutscher" -> 1,
          "sprache" -> 1,
          "täta" -> 1,
          "sowas" -> 1,
        )

        testkit
          .runAskWithStatus[BlogEntry.Summary](a => BlogEntry.Create(id, title, now, entry, a))
          .expectValue(Summary(id, title.trim, now, entry.trim))

        eventProbe.expectPersisted(BlogEntry.Created(id,title.trim,now,entry.trim,"1"))

        snapshotProbe.hasEffects shouldBe false

        testkit
          .runAskWithStatus[BlogEntry.Summary](BlogEntry.Get(_)).hasReply

        testkit
          .runAsk[StatusReply[Summary]](a => BlogEntry.Get(a))
          .receiveReply()
          .getValue.countedMapScala shouldBe wordMap

        testkit
          .runAsk[StatusReply[Summary]](a => BlogEntry.Get(a))
          .receiveReply()
          .getValue.countedMapScala shouldBe wordMap
      }
    }
  }

}
